#Batch API
##概述
Batch API 适用于无需即时反馈并需使用大模型处理大量请求的场景。通过 Batch API，开发者可以通过文件提交大量任务，且价格降低50%、无并发限制，并在24小时内完成任务处理。典型应用场景包括：
文章分类：为大量文章、帖子或产品描述添加分类标签。
情感分析：评估客户反馈、社交媒体帖子和商品评价的情感倾向。
文档处理：为大量文档生成摘要、提炼关键信息或进行翻译。
信息提取：从文本数据中识别和抽取关键内容
本指南将通过实际场景示例，向您介绍如何使用 Batch API。
##检查 Batch 状态
Batch 任务将在 24 小时内处理完成，状态为 "completed" 表示任务已完成。
状态|描述
validating|文件正在验证中，Batch 任务未开始
failed|文件未通过验证
in_progress|文件已成功验证，Batch 任务正在进行中
finalizing|Batch 任务已完成，结果正在准备中
completed|Batch 任务已完成，结果已准备好
expired|Batch 任务未能在24小时内完成
cancelling|Batch 任务正在取消中
cancelled|Batch 任务已取消
##Batch API的并发限制是怎样的？
Batch API 的并发限制与现有的每个模型并发限制是分开的。BatchAPI 引入了两种新的限制：
单个 Batch 文件中包含最多 50,000 个请求且不超过 100M。
每个模型的 Batch 有最大排队限制。当达到请求队列上限时，请等待当前任务完成后再提交新任务。
模型|Batch 队列限制
GLM-4-Flash|100万次
GLM-4-Air|100万次
GLM-3-Turbo|20万次
Embedding-2|20万次
GLM-4-0520|5万次
GLM-4|5万次
Cogview-3|3千次
GLM-4V|1千次
##Batch 的过期如何处理？
如果Batch未能及时完成，该批次将被标记为过期状态；批次中未完成的请求将被取消。对于批次中已完成的请求，用户可以通过文件获取，并且需要支付这些请求消耗的费用。
##Batch 文件有哪些存储限制？
Batch 文件最多上传100个文件。系统只保留您的文件30天，过期后文件将自动删除，无法恢复。